@page "/idealist"

<MudTabs Elevation="4" Rounded="true" Centered="true" Color="@Color.Primary">
    <MudTabPanel Text="Your Ideas">
        @if (YourIdeas != null && loggedInUser != null)
        {
            <MudTable Items="@YourIdeas" Style="width: 100%">
                <HeaderContent>
                    <MudTh>Name</MudTh>
                    <MudTh>Type</MudTh>
                    <MudTh>Status</MudTh>
                    <MudTh>Description</MudTh>
                    <MudTh>Resolution</MudTh>
                    <MudTh>Submission Date</MudTh>
                </HeaderContent>
                <RowTemplate>
                    <MudTd DataLabel="Name">@context.Name</MudTd>
                    <MudTd DataLabel="Type">@context.Type</MudTd>
                    <MudTd DataLabel="Status">
                        @if (@context.Closed)
                        {
                            <div>Closed</div>
                        }
                        else
                        {
                            <div>Open</div>
                        }
                    </MudTd>
                    <MudTd DataLabel="Description">@context.Description</MudTd>
                    <MudTd DataLabel="Resolution">@context.Resolution</MudTd>
                    <MudTd DataLabel="Submission Date">@context.DateTimeSubmitted</MudTd>
                </RowTemplate>
            </MudTable>
        }
    </MudTabPanel>
    <MudTabPanel Text="All Ideas">
        @if(Ideas!=null){

           @foreach(var x in Ideas)
           {
            <MudCard>
                <MudCardContent>
                        <MudText><strong>@x.Name</strong></MudText>
                        <MudText Typo="Typo.body2"><strong>Type: </strong>@x.Type</MudText>
                        <MudText Typo="Typo.body2">
                            <strong>Status: </strong>@if (@x.Closed)
                            {
                                <div>Closed</div>
                            }
                            else
                            {
                                <div>Open</div>
                            }
                        </MudText>
                        <MudText Typo="Typo.body2"><strong>Description: </strong>@x.Description</MudText>
                        <MudText Typo="Typo.body2"><strong>Resolution: </strong>@x.Resolution</MudText>
                        <MudText Typo="Typo.body2"><strong>Submission Date: </strong>@x.DateTimeSubmitted</MudText>
                </MudCardContent>
                <MudCardActions>
                    <MudButton Variant="Variant.Text" Color="Color.Primary">Learn More</MudButton>
                </MudCardActions>
            </MudCard>
            <MudDivider Style="height: 2px; background-color: black; margin: 10px 0;" />
           }
            


        @*<MudTable Items = "@Ideas" Style="width: 100%">
            <HeaderContent>
                <MudTh>Name</MudTh>
                <MudTh>Type</MudTh>
                <MudTh>Status</MudTh>
                <MudTh>Description</MudTh>
                <MudTh>Resolution</MudTh>
                <MudTh>Submission Date</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Name">@context.Name</MudTd>
                <MudTd DataLabel="Type">@context.Type</MudTd>
                <MudTd DataLabel="Status">
                    @if (@context.Closed) {<div>Closed</div>}
                    else{<div>Open</div>}
                </MudTd>
                <MudTd DataLabel="Description">@context.Description</MudTd>
                <MudTd DataLabel="Resolution">@context.Resolution</MudTd>
                <MudTd DataLabel="Submission Date">@context.DateTimeSubmitted</MudTd>
            </RowTemplate>
        </MudTable>*@
        }       
    </MudTabPanel>
    <MudTabPanel Text="Completed Ideas">
        @if(@CompletedIdeas!=null){
        <MudTable Items = "@CompletedIdeas" Style="width: 100%">
            <HeaderContent>
                <MudTh>Name</MudTh>
                <MudTh>Type</MudTh>
                <MudTh>Status</MudTh>
                <MudTh>Description</MudTh>
                <MudTh>Resolution</MudTh>
                <MudTh>Submission Date</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Name">@context.Name</MudTd>
                <MudTd DataLabel="Type">@context.Type</MudTd>
                <MudTd DataLabel="Status">
                    @if (@context.Closed) {<div>Closed</div>}
                    else{<div>Open</div>}</MudTd>
                <MudTd DataLabel="Description">@context.Description</MudTd>
                <MudTd DataLabel="Resolution">@context.Resolution</MudTd>
                <MudTd DataLabel="Submission Date">@context.DateTimeSubmitted</MudTd>
            </RowTemplate>
        </MudTable>
        }
    </MudTabPanel>
</MudTabs>


@if ( loggedInUser != null)
{
    <MudText>
        Email of logged in user is @loggedInUser.Email
    </MudText>
}
else
{
    <MudText>You are currently logged out</MudText>
}


@code {

}
